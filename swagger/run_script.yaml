swagger: "2.0"
info:
  version: "0.0.1"
  title: My API
  description: API for running a PowerShell script
  contact:
    name: "ME"
    email: "me@me.com"
    url: "http://www.me.com"
  termsOfService: "http://me.com/terms"

securityDefinitions:
  Bearer:
    type: apiKey
    name: Authorization
    in: header
    description: |
      For accessing the API a valid JWT token must be passed in all the queries in
      the 'Authorization' header.
      A valid JWT token is generated by the API and returned as answer of a call to the route
      /login generating an Access Token.
      The following syntax must be used in the 'Authorization' header :
      Bearer xxxxxx.yyyyyyy.zzzzzz

tags:
  - scripts
parameters:
  - name: Authorization
    in: header
    required: true
    type: string
    description: Bearer token
responses:
  200:
    description: Script output
    schema:
      type: object
      properties:
        output:
          type: string
        error:
          type: string
  500:
    description: Error running script
    schema:
      type: object
      properties:
        error:
          type: string
  403:
    description: Forbidden - Token required
    schema:
      type: object
      properties:
        message:
          type: string
          example: "Token is missing or invalid!"
